!function(e){function t(t){for(var i,r,a=t[0],u=t[1],s=t[2],d=0,f=[];d<a.length;d++)r=a[d],o[r]&&f.push(o[r][0]),o[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);for(c&&c(t);f.length;)f.shift()();return l.push.apply(l,s||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],i=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(i=!1)}i&&(l.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={1:0},l=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var c=u;l.push([16,0]),n()}({0:function(e,t,n){},16:function(e,t,n){e.exports=n(6)},6:function(e,t,n){"use strict";n.r(t);var i=n(2),o=n.n(i),l=[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image","video"],["clean"]];function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,l=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.matches=[{name:"header",pattern:/^(#){1,6}\s/g,action:function(e,t){switch(e.trim()){case"#":i.quill.formatLine(t.index,0,"header",1);break;case"##":i.quill.formatLine(t.index,0,"header",2);break;case"###":i.quill.formatLine(t.index,0,"header",3);break;case"####":i.quill.formatLine(t.index,0,"header",4);break;case"#####":i.quill.formatLine(t.index,0,"header",5);break;case"######":i.quill.formatLine(t.index,0,"header",6)}setTimeout(function(){i.quill.deleteText(t.index-e.length,e.length)},0)}},{name:"blockquote",pattern:/^(>)\s/g,action:function(e,t){setTimeout(function(){i.quill.formatLine(t.index,1,"blockquote",!0),i.quill.deleteText(t.index-2,2)},0)}},{name:"code-block",pattern:/^`{3}(?:\s|\n)/g,action:function(e,t){setTimeout(function(){i.quill.formatLine(t.index,1,"code-block",!0),i.quill.deleteText(t.index-4,4)},0)}},{name:"bolditalic",pattern:/(?:\*|_){3}(.+?)(?:\*|_){3}/g,action:function(e,t,n,o){var l=n.exec(e),r=l[0],a=l[1],u=o+l.index;e.match(/^([*_ \n]+)$/g)||setTimeout(function(){i.quill.deleteText(u,r.length),i.quill.insertText(u,a,{bold:!0}),i.quill.format("bold",!1)},0)}},{name:"bold",pattern:/(?:\*|_){2}(.+?)(?:\*|_){2}/g,action:function(e,t,n,o){var l=n.exec(e),r=l[0],a=l[1],u=o+l.index;e.match(/^([*_ \n]+)$/g)||setTimeout(function(){i.quill.deleteText(u,r.length),i.quill.insertText(u,a,{bold:!0}),i.quill.format("bold",!1)},0)}},{name:"italic",pattern:/(?:\*|_){1}(.+?)(?:\*|_){1}/g,action:function(e,t,n,o){var l=n.exec(e),r=l[0],a=l[1],u=o+l.index;e.match(/^([*_ \n]+)$/g)||setTimeout(function(){i.quill.deleteText(u,r.length),i.quill.insertText(u,a,{italic:!0}),i.quill.format("italic",!1)},0)}},{name:"strikethrough",pattern:/(?:~~)(.+?)(?:~~)/g,action:function(e,t,n,o){var l=n.exec(e),r=l[0],a=l[1],u=o+l.index;e.match(/^([*_ \n]+)$/g)||setTimeout(function(){i.quill.deleteText(u,r.length),i.quill.insertText(u,a,{strike:!0}),i.quill.format("strike",!1)},0)}},{name:"code",pattern:/(?:`)(.+?)(?:`)/g,action:function(e,t,n,o){var l=n.exec(e),r=l[0],a=l[1],u=o+l.index;e.match(/^([*_ \n]+)$/g)||setTimeout(function(){i.quill.deleteText(u,r.length),i.quill.insertText(u,a,{code:!0}),i.quill.format("code",!1),i.quill.insertText(i.quill.getSelection()," ")},0)}},{name:"asterisk-ul",pattern:/^(\*|\+)\s$/g,action:function(e,t,n){setTimeout(function(){i.quill.formatLine(t.index,1,"list","unordered"),i.quill.deleteText(t.index-2,2)},0)}},{name:"image",pattern:/(?:!\[(.+?)\])(?:\((.+?)\))/g,action:function(e,t,n){var o=e.search(n),l=e.match(n)[0],r=e.match(/(?:\((.*?)\))/g)[0],a=t.index-l.length-1;-1!==o&&setTimeout(function(){i.quill.deleteText(a,l.length),i.quill.insertEmbed(a,"image",r.slice(1,r.length-1))},0)}},{name:"link",pattern:/(?:\[(.+?)\])(?:\((.+?)\))/g,action:function(e,t,n){var o=e.search(n),l=e.match(n)[0],r=e.match(/(?:\[(.*?)\])/g)[0],a=e.match(/(?:\((.*?)\))/g)[0],u=t.index-l.length-1;-1!==o&&setTimeout(function(){i.quill.deleteText(u,l.length),i.quill.insertText(u,r.slice(1,r.length-1),"link",a.slice(1,a.length-1))},0)}}],this.quill.on("text-change",function(e,t,n){for(var o=0;o<e.ops.length;o++)e.ops[o].hasOwnProperty("insert")&&(" "===e.ops[o].insert?i.onSpace():"\n"===e.ops[o].insert&&i.onEnter())})}var t,n,i;return t=e,(n=[{key:"onSpace",value:function(){var e=this.quill.getSelection(),t=r(this.quill.getLine(e.index),2),n=t[0],i=t[1],o=n.domNode.textContent,l=e.index-i;if(void 0!==o&&o){var a=!0,u=!1,s=void 0;try{for(var c,d=this.matches[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var f=c.value;if(o.match(f.pattern))return console.log("matched",f.name,o),void f.action(o,e,f.pattern,l)}}catch(e){u=!0,s=e}finally{try{a||null==d.return||d.return()}finally{if(u)throw s}}}}},{key:"onEnter",value:function(){var e=this.quill.getSelection();if(e){var t=r(this.quill.getLine(e.index),2),n=t[0],i=t[1],o=n.domNode.textContent+" ",l=e.index-i;if(e.length=e.index++,void 0!==o&&o){var a=!0,u=!1,s=void 0;try{for(var c,d=this.matches[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var f=c.value;if(o.match(f.pattern))return console.log("matched",f.name,o),void f.action(o,e,f.pattern,l)}}catch(e){u=!0,s=e}finally{try{a||null==d.return||d.return()}finally{if(u)throw s}}}}}}])&&a(t.prototype,n),i&&a(t,i),e}(),s=n(5),c=n.n(s),d=window.Quill||o.a,f={name:"vue-editor",props:{value:String,id:{type:String,default:"quill-container"},placeholder:String,disabled:Boolean,customModules:Array,editorToolbar:Array,enableMarkdownShortcuts:{type:Boolean,default:!0},editorOptions:{type:Object,default:function(){return{}}},useCustomImageHandler:{type:Boolean,default:!1}},computed:{filteredInitialContent:function(){return(this.value||"").replace(/(<div)/gim,"<p").replace(/<\/div>/gim,"</p>")},imageResizeActive:function(){return void 0!==this.quill.options.modules.imageResize}},data:function(){return{quill:null,editor:null,editorConfig:{},modules:{toolbar:this.editorToolbar?this.editorToolbar:l,markdownShortcuts:{}}}},mounted:function(){this.initializeVue2Editor(),this.handleUpdatedEditor()},watch:{value:function(e){e==this.editor.innerHTML||this.quill.hasFocus()||(this.editor.innerHTML=e)},disabled:function(e){this.quill.enable(!e)}},methods:{initializeVue2Editor:function(){this.prepareModules(),this.setQuillElement(),this.setEditorElement(),this.handleDynamicStyles(),this.checkForInitialContent(),this.checkForCustomImageHandler()},setQuillElement:function(){var e={debug:!1,modules:this.modules,placeholder:this.placeholder?this.placeholder:"",theme:"snow",readOnly:!!this.disabled&&this.disabled};this.prepareEditorConfig(e),this.quill=new d(this.$refs.quillContainer,e)},setEditorElement:function(){this.editor=document.querySelector("#".concat(this.id," .ql-editor"))},handleDynamicStyles:function(){this.imageResizeActive&&this.editor.classList.add("imageResizeActive")},prepareModules:function(){this.registerBuiltInModules(),this.registerCustomModules()},registerBuiltInModules:function(){this.enableMarkdownShortcuts&&d.register("modules/markdownShortcuts",u,!0)},registerCustomModules:function(){void 0!==this.customModules&&this.customModules.forEach(function(e){d.register("modules/"+e.alias,e.module)})},prepareEditorConfig:function(e){Object.keys(this.editorOptions).length>0&&this.editorOptions.constructor===Object&&(this.editorOptions.modules&&void 0!==this.editorOptions.modules.toolbar&&delete e.modules.toolbar,c()(e,this.editorOptions))},checkForInitialContent:function(){this.value&&(this.editor.innerHTML=this.filteredInitialContent)},checkForCustomImageHandler:function(){!0===this.useCustomImageHandler&&this.setupCustomImageHandler()},setupCustomImageHandler:function(){this.quill.getModule("toolbar").addHandler("image",this.customImageHandler)},handleUpdatedEditor:function(){var e=this;this.quill.on("text-change",function(){var t=e.editor.innerHTML;"<p><br></p>"===t&&(t=""),e.$emit("input",t)})},customImageHandler:function(e,t){this.$refs.fileInput.click()},emitImageInfo:function(e){var t=e.target.files[0],n=this.quill,i=n.getSelection().index;this.$emit("imageAdded",t,n,i,function(){document.getElementById("file-upload").value=""})}}},h=(n(10),n(8),n(4)),m=Object(h.a)(f,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"quillWrapper"},[n("div",{ref:"quillContainer",attrs:{id:e.id}}),e._v(" "),e.useCustomImageHandler?n("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{id:"file-upload",type:"file"},on:{change:function(t){e.emitImageInfo(t)}}}):e._e()])},[],!1,null,null,null).exports;n.d(t,"Quill",function(){return p}),n.d(t,"VueEditor",function(){return m});var p=window.Quill||o.a,g={VueEditor:m,install:function(e){e.component(m.name,m)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(g);t.default=g},8:function(e,t,n){"use strict";var i=n(0);n.n(i).a}});
//# sourceMappingURL=vue2-editor.js.map